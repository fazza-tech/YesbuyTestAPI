exports.handler = async function (event, context) {
  const products = [
    {
      id: 1,
      title: "Men Blue & White Slim Fit Striped Casual Shirt",
      brand: "Mast & Harbour",
      price: 669,
      originalPrice: 787,
      discountPercentage: 15,
      description:
        "Your perfect pack for everyday use and walks in the forest. Stash your laptop (up to 15 inches) in the padded sleeve, your everyday",
      gender: "men",
      category: "clothing",
      subcategory: "casual-shirts",
      type: "shirt",
      fit: "slim-fit",
      materials: ["cotton"],
      color: "blue",
      colors: ["blue", "white"],
      sizes: ["S", "M", "L", "XL"],
      offers: ["trending", "flash-sale"],
      tags: ["shirt", "casual", "slim-fit", "striped"],
      images: [
        {
          url: "https://assets.myntassets.com/w_1440,q_60,dpr_1,fl_progressive/assets/images/2024/AUGUST/12/iSJz5Njt_c1194cf91f2345f0aa27b4c49e12e0e3.jpg",
          altText: "Men's striped shirt front view",
        },
        {
          url: "https://assets.myntassets.com/w_1496,q_60,dpr_1,fl_progressive/assets/images/2024/1/12/c2601e05-457e-46be-b9e1-0e02b836dc101705041567527-compressed_142539_0.jpg",
          altText: "Men's striped shirt side view",
        },
      ],
      rating: {
        average: 3.9,
        count: 120,
      },
      inventory: 45,
      createdAt: "2024-01-15T00:00:00Z",
      updatedAt: "2024-01-20T00:00:00Z",
      cod: "COD Available",
      return: "15 Days Exchange/Return Available",
    },
    {
      id: 2,
      title: "Floral Printed Notch Collar Thread Work Cotton A-Line Kurta",
      brand: "FIORRA",
      price: 999,
      originalPrice: 1537,
      discountPercentage: 35,
      description:
        "Elegantly designed floral printed cotton kurta with thread work. Perfect for casual and festive occasions.",
      gender: "women",
      category: "clothing",
      subcategory: "kurtas-kurtis",
      type: "kurta",
      fit: "a-line",
      materials: ["cotton"],
      color: "muliti",
      colors: ["multi"],
      sizes: ["S", "M", "L"],
      offers: ["trending", "flash-sale"],
      tags: ["ethnic", "floral", "thread-work"],
      images: [
        {
          url: "https://assets.myntassets.com/f_webp,fl_progressive/h_960,q_80,w_720/v1/assets/images/29092082/2024/4/20/118a30f5-de7d-4f05-8964-f5e479ec1eea1713614141316FIORRAWomenEthnicMotifsPrintedThreadWorkKurta1.jpg",
          altText: "Floral kurta front view",
        },
        {
          url: "https://assets.myntassets.com/f_webp,fl_progressive/h_960,q_80,w_720/v1/assets/images/29092082/2024/4/20/5e2dd41b-3aeb-4a27-87d6-005887f5ea381713614141339FIORRAWomenEthnicMotifsPrintedThreadWorkKurta2.jpg",
          altText: "Floral kurta detail view",
        },
        {
          url: "https://assets.myntassets.com/f_webp,fl_progressive/h_960,q_80,w_720/v1/assets/images/29092082/2024/4/20/5cdcd1df-3d4b-4ebb-a093-a5bf6b955a0d1713614141372FIORRAWomenEthnicMotifsPrintedThreadWorkKurta3.jpg",
        },
      ],
      rating: {
        average: 4.3,
        count: 86,
      },
      inventory: 28,
      careInstructions: ["hand-wash", "dry-in-shade"],
      cod: "COD Available",
      return: "15 Days Exchange/Return Available",
    },
    {
      id: 3,
      title: "Men Regular Fit Shirt",
      brand: "H&M",
      price: 1299,
      originalPrice: 1624,
      discountPercentage: 20,
      description:
        "This men's regular fit shirt is ideal for casual outings or semi-formal occasions. Designed for comfort and a clean look.",
      gender: "men",
      category: "clothing",
      subcategory: "shirts",
      type: "shirt",
      fit: "regular-fit",
      materials: ["cotton"],
      color: "blue",
      colors: ["blue"],
      sizes: ["S", "M", "L", "XL"],
      offers: ["trending", "flash-sale"],
      tags: ["shirt", "casual", "regular-fit"],
      images: [
        {
          url: "https://assets.myntassets.com/f_webp,fl_progressive/h_960,q_80,w_720/v1/assets/images/2025/JANUARY/27/AXjfbN2w_dd42db875de04d8fafad2744c4e2be91.jpg",
          altText: "Men's shirt front view",
        },
        {
          url: "https://assets.myntassets.com/f_webp,fl_progressive/h_960,q_80,w_720/v1/assets/images/2025/JANUARY/27/jp2Sqnui_5da4496ca73348aebe1a82e6e388a41a.jpg",
        },
        {
          url: "https://assets.myntassets.com/f_webp,fl_progressive/h_960,q_80,w_720/v1/assets/images/2025/JANUARY/27/Q7LOtVZB_6116ea9f86aa4f35a778479a2651e316.jpg",
        },
      ],
      rating: {
        average: 4.3,
        count: 85,
      },
      inventory: 32,
      cod: "COD Available",
      return: "15 Days Exchange/Return Available",
    },
    {
      id: 4,
      title: "Women Solid Strappy Bodycon Midi Dress",
      brand: "Tokyo Talkies",
      price: 441,
      originalPrice: 588,
      discountPercentage: 25,
      description:
        "This solid strappy bodycon midi dress from Tokyo Talkies is a perfect pick for parties or evening wear. Elegant fit and lightweight fabric ensure style with comfort.",
      gender: "women",
      category: "clothing",
      subcategory: "dresses",
      type: "dress",
      fit: "bodycon",
      length: "midi",
      sleeve: "sleeveless",
      neckline: "strappy",
      materials: ["polyester"],
      colors: ["black"],
      sizes: ["S", "M", "L"],
      offers: ["trending"],
      tags: ["dress", "party-wear", "bodycon"],
      images: [
        {
          url: "https://assets.myntassets.com/w_1496,q_60,dpr_1,fl_progressive/assets/images/2025/JANUARY/10/8V5q9WGT_5d732321e31346409de347a3a089df64.jpg",
          altText: "Women's dress front view",
        },
        {
          url: "https://assets.myntassets.com/w_1496,q_60,dpr_1,fl_progressive/assets/images/2025/JANUARY/10/DgvYRgY1_bd091aa9eaaf47fd9649a1a47c313006.jpg",
        },
        {
          url: "https://assets.myntassets.com/f_webp,dpr_1.5,q_auto:eco,w_603,c_limit,fl_progressive/v1/assets/images/29838822/2024/5/30/bf7e15e3-5e45-48af-9335-7816141c36701717052136340Dresses1.jpg",
        },
      ],
      rating: {
        average: 4.2,
        count: 87,
      },
      inventory: 18,
      cod: "COD Available",
      return: "15 Days Exchange/Return Available",
    },
    {
      id: 5,
      title: "Men Straight Fit Mid-Rise Light Fade Stretchable Jeans",
      brand: "The Roadster Life Co",
      price: 1199,
      originalPrice: 1713,
      discountPercentage: 30,
      description:
        "These straight-fit mid-rise jeans from The Roadster Life Co are designed with a lightly faded look and stretchable fabric for everyday comfort and mobility. Perfect for casual and semi-casual outfits.",
      gender: "men",
      category: "bottom-wear",
      subcategory: "jeans",
      type: "jeans",
      fit: "straight-fit",
      rise: "mid-rise",
      fabric: "stretchable-denim",
      fade: "light-fade",
      closure: "button-and-zip",
      materials: ["cotton", "elastane"],
      colors: ["blue", "black"],
      sizes: ["28", "30", "32", "34", "36"],
      offers: ["trending"],
      tags: ["jeans", "stretchable", "casual", "men"],
      images: [
        {
          url: "https://assets.myntassets.com/f_webp,fl_progressive/h_960,q_80,w_720/v1/assets/images/32026597/2025/6/3/d3f8474a-6900-4ea3-b3bf-5adad41216f11748935609643-The-Roadster-Life-Co-Men-Straight-Fit-Mid-Rise-Light-Fade-St-1.jpg",
          altText: "Men's jeans front view",
        },
        {
          url: "https://assets.myntassets.com/f_webp,fl_progressive/h_960,q_80,w_720/v1/assets/images/32026597/2025/6/3/4610abcb-fc96-47f9-b992-e80beeebf7351748935609602-The-Roadster-Life-Co-Men-Straight-Fit-Mid-Rise-Light-Fade-St-3.jpg",
          altText: "Men's jeans side view",
        },
        {
          url: "https://assets.myntassets.com/f_webp,fl_progressive/h_960,q_80,w_720/v1/assets/images/32026597/2025/6/3/d16692de-2170-45fb-a417-84fd7cd58d981748935609581-The-Roadster-Life-Co-Men-Straight-Fit-Mid-Rise-Light-Fade-St-4.jpg",
          altText: "Men's jeans detail view",
        },
      ],
      rating: {
        average: 4.3,
        count: 102,
      },
      inventory: 56,
      careInstructions: ["machine-wash", "tumble-dry-low"],
      weight: {
        value: 400,
        unit: "grams",
      },
      features: ["stretchable fabric", "light fade wash", "5-pocket styling"],
      createdAt: "2024-06-03T00:00:00Z",
      updatedAt: "2024-06-10T00:00:00Z",
      cod: "COD Available",
      return: "15 Days Exchange/Return Available",
    },
    {
      id: 6,
      title: "Men Textured Trousers",
      brand: "encore by INVICTUS",
      price: 1499,
      originalPrice: 1828,
      discountPercentage: 18,
      description:
        "Stylish men's textured trousers from encore by INVICTUS, designed for comfort and a smart casual look. Perfect for office wear or semi-formal occasions.",
      gender: "men",
      category: "bottom-wear",
      subcategory: "trousers",
      type: "trousers",
      fit: "regular-fit",
      closure: "button-and-zip",
      materials: ["polyester", "cotton-blend"],
      texture: "textured",
      colors: ["black", "charcoal", "navy"],
      sizes: ["28", "30", "32", "34", "36", "38"],
      offers: ["trending"],
      tags: ["formal", "smart-casual", "office-wear", "textured"],
      images: [
        {
          url: "https://assets.myntassets.com/f_webp,fl_progressive/h_960,q_80,w_720/v1/assets/images/30750805/2025/1/23/6e383063-6362-48f4-ae05-e86b60755c5c1737629257378-encore-by-INVICTUS-Men-Trousers-7221737629256790-2.jpg",
          altText: "Men's trousers front view",
        },
        {
          url: "https://assets.myntassets.com/f_webp,dpr_1.5,q_60,w_400,c_limit,fl_progressive/assets/images/30750805/2025/1/23/f1be0c05-10ff-4536-93b9-ebd2e9849f621737629257406-encore-by-INVICTUS-Men-Trousers-7221737629256790-1.jpg",
          altText: "Men's trousers side view",
        },
        {
          url: "https://assets.myntassets.com/f_webp,fl_progressive/h_960,q_80,w_720/v1/assets/images/30750805/2025/1/23/45cd50fb-488c-44ee-a86f-30644a97f8431737629257323-encore-by-INVICTUS-Men-Trousers-7221737629256790-4.jpg",
          altText: "Men's trousers detail view",
        },
      ],
      rating: {
        average: 4.1,
        count: 95,
      },
      inventory: 42,
      careInstructions: ["dry-clean", "iron-on-low"],
      features: ["wrinkle-resistant", "stretch-comfort", "multi-pocket-design"],
      occasion: ["office", "semi-formal", "business-casual"],
      weight: {
        value: 350,
        unit: "grams",
      },
      dimensions: {
        inseam: "32 inches",
        legOpening: "16 inches",
      },
      createdAt: "2025-01-15T00:00:00Z",
      updatedAt: "2025-01-20T00:00:00Z",
      cod: "COD Available",
      return: "15 Days Exchange/Return Available",
    },
    {
      id: 7,
      title: "Men Pure Cotton Chinos Trousers",
      brand: "Roadster",
      price: 1399,
      originalPrice: 1794,
      discountPercentage: 22,
      description:
        "Classic men's pure cotton chinos trousers by Roadster, offering comfort and a clean, versatile look. Ideal for casual and semi-formal wear.",
      gender: "men",
      category: "bottom-wear",
      subcategory: "trousers",
      type: "chinos",
      fit: "regular-fit",
      style: "chinos",
      closure: "button-and-zip",
      materials: ["100% cotton"],
      colors: ["khaki", "beige", "navy", "olive"],
      sizes: ["28", "30", "32", "34", "36", "38"],
      offers: ["trending", "flash-sale"],
      tags: ["casual", "versatile", "cotton", "smart-casual"],
      images: [
        {
          url: "https://assets.myntassets.com/w_2560,q_60,dpr_2,fl_progressive/assets/images/31319102/2025/2/24/dbe83483-7518-4650-a53d-0c601730e5dd1740386832739-Roadster-Men-Trousers-4501740386832181-1.jpg",
          altText: "Men's chinos front view",
        },
        {
          url: "https://assets.myntassets.com/w_2560,q_60,dpr_2,fl_progressive/assets/images/31319102/2025/2/24/bde759e9-0d89-4fbf-a2ac-e68a70cbb2ee1740386832693-Roadster-Men-Trousers-4501740386832181-3.jpg",
          altText: "Men's chinos side view",
        },
        {
          url: "https://assets.myntassets.com/w_2560,q_60,dpr_2,fl_progressive/assets/images/31319102/2025/2/24/d1460a62-f416-4a55-bd52-1bb9952526061740386832619-Roadster-Men-Trousers-4501740386832181-6.jpg",
          altText: "Men's chinos detail view",
        },
      ],
      rating: {
        average: 4.0,
        count: 110,
      },
      inventory: 58,
      careInstructions: ["machine-wash", "iron-medium"],
      features: [
        "100% pure cotton",
        "reinforced stitching",
        "multi-pocket design",
        "wrinkle-resistant",
      ],
      occasion: ["casual", "semi-formal", "office-casual"],
      weight: {
        value: 380,
        unit: "grams",
      },
      dimensions: {
        inseam: "32 inches",
        legOpening: "16.5 inches",
      },
      fabricWeight: "8 oz",
      createdAt: "2025-02-20T00:00:00Z",
      updatedAt: "2025-02-25T00:00:00Z",
      cod: "COD Available",
      return: "15 Days Exchange/Return Available",
    },
    {
      id: 8,
      title: "Men Solid Polo Collar T-shirt",
      brand: "HIGHLANDER",
      price: 799,
      originalPrice: 999,
      discountPercentage: 20,
      description:
        "Classic men's solid polo collar T-shirt from HIGHLANDER, made for comfort and style. Perfect for casual outings and everyday wear.",
      gender: "men",
      category: "top-wear",
      subcategory: "t-shirts",
      type: "polo-t-shirt",
      fit: "regular-fit",
      style: "polo-collar",
      neck: "polo-collar",
      sleeve: "short-sleeve",
      materials: ["cotton", "polyester"],
      materialComposition: "70% cotton, 30% polyester",
      colors: ["black", "navy", "white", "grey"],
      sizes: ["S", "M", "L", "XL", "XXL"],
      offers: ["trending", "flash-sale"],
      tags: ["casual", "polo", "everyday-wear", "solid-color"],
      images: [
        {
          url: "https://assets.myntassets.com/w_2560,q_60,dpr_2,fl_progressive/assets/images/2025/JUNE/3/y8kWwzYX_904ebfbd787d41e58e5b6f1f29f0515b.jpg",
          altText: "Men's polo t-shirt front view",
        },
        {
          url: "https://assets.myntassets.com/w_2560,q_60,dpr_2,fl_progressive/assets/images/2025/JUNE/3/f77Kerio_17a59c3dca464ac68bcb044d6b742369.jpg",
          altText: "Men's polo t-shirt side view",
        },
        {
          url: "https://assets.myntassets.com/w_2560,q_60,dpr_2,fl_progressive/assets/images/2025/JUNE/3/4N8LMMp5_44a0ae7925014761ae10fbb2d4ce4cc3.jpg",
          altText: "Men's polo t-shirt detail view",
        },
      ],
      rating: {
        average: 4.4,
        count: 134,
      },
      inventory: 87,
      careInstructions: ["machine-wash", "tumble-dry-low"],
      features: [
        "moisture-wicking",
        "breathable-fabric",
        "reinforced-collar",
        "tagless-neck",
      ],
      occasion: ["casual", "smart-casual", "everyday"],
      weight: {
        value: 180,
        unit: "grams",
      },
      fabricWeight: "160 GSM",
      pattern: "solid",
      createdAt: "2025-06-01T00:00:00Z",
      updatedAt: "2025-06-10T00:00:00Z",
      cod: "COD Available",
      return: "7 Days Exchange/Return Available", // Randomly selected for 7 days return
    },
    {
      id: 9,
      title: "Women Floral Printed Crop Top with Palazzos",
      brand: "QUIERO",
      price: 999,
      originalPrice: 1427,
      discountPercentage: 30,
      description:
        "Stylish co-ord set with floral printed crop top and matching palazzos",
      gender: "women",
      category: "clothing",
      subcategory: "co-ords",
      type: "top-and-bottom-set",
      fit: "regular",
      materials: ["polyester"],
      colors: ["pink", "green"],
      sizes: ["S", "M", "L"],
      offers: ["buy-1-get-1", "trending"],
      tags: ["floral", "summer", "co-ords"],
      images: [
        {
          url: "https://assets.myntassets.com/f_webp,fl_progressive/h_960,q_80,w_720/v1/assets/images/25951630/2023/11/30/2a33ea71-de8d-4b3d-ad12-4cae1d33645c1701320429753-QUIERO-Women-Co-Ords-5531701320429198-2.jpg",
          altText: "Crop top and palazzos set front view",
        },
        {
          url: "https://assets.myntassets.com/f_webp,fl_progressive/h_960,q_80,w_720/v1/assets/images/25951630/2023/11/30/7c6de091-f777-4e83-aedb-2ff7315ede1d1701320429734-QUIERO-Women-Co-Ords-5531701320429198-3.jpg",
        },
        {
          url: "https://assets.myntassets.com/f_webp,fl_progressive/h_960,q_80,w_720/v1/assets/images/25951630/2023/11/30/913b44f8-8f0c-4310-a6e1-d1d45ff55a031701320429727-QUIERO-Women-Co-Ords-5531701320429198-4.jpg",
        },
        {
          url: "https://assets.myntassets.com/f_webp,fl_progressive/h_960,q_80,w_720/v1/assets/images/25951630/2023/11/30/348bc85e-88b5-4db0-a8d5-2055f53d9b571701320429721-QUIERO-Women-Co-Ords-5531701320429198-5.jpg",
        },
      ],
      rating: {
        average: 4.1,
        count: 64,
      },
      inventory: 15,
      setIncluded: true,
      piecesInSet: 2,
      cod: "COD Available",
      return: "15 Days Exchange/Return Available",
    },
    {
      id: 10,
      title: "Floral Printed Oversized Shirt With Palazzos Co-Ords",
      brand: "SASSAFRAS",
      price: 1299,
      originalPrice: 1699,
      discountPercentage: 25,
      description:
        "Stylish co-ord set featuring floral printed oversized shirt with matching palazzos. Perfect for summer outings and casual occasions.",
      gender: "women",
      category: "top-wear",
      subcategory: "co-ords",
      type: "co-ord-set",
      fit: {
        shirt: "oversized",
        palazzos: "wide-leg",
      },
      sleeve: "full-sleeve",
      length: "regular",
      materials: ["cotton", "viscose"],
      materialComposition: "70% cotton, 30% viscose",
      colors: ["multi-color"],
      print: "floral",
      sizes: ["XS", "S", "M", "L", "XL"],
      setIncludes: ["shirt", "palazzos"],
      piecesInSet: 2,
      offers: ["buy-1-get-1", "trending"],
      tags: ["summer-wear", "floral-print", "matching-set", "casual-outfit"],
      images: [
        {
          url: "https://assets.myntassets.com/f_webp,fl_progressive/h_960,q_80,w_720/v1/assets/images/27558686/2024/2/13/9b455e15-7c08-415f-a95a-2634600b8a321707797790081Co-Ords1.jpg",
          altText: "Floral co-ord set front view",
        },
        {
          url: "https://assets.myntassets.com/f_webp,fl_progressive/h_960,q_80,w_720/v1/assets/images/27558686/2024/2/13/85626af2-4364-45ed-b533-eb40d93e11c91707797790113Co-Ords2.jpg",
          altText: "Floral co-ord set side view",
        },
        {
          url: "https://assets.myntassets.com/f_webp,fl_progressive/h_960,q_80,w_720/v1/assets/images/27558686/2024/2/13/db6e7901-0c41-44ac-9e2a-978a3e9dc3871707797790121Co-Ords3.jpg",
          altText: "Floral co-ord set detail view",
        },
      ],
      rating: {
        average: 4.2,
        count: 68,
      },
      inventory: 42,
      careInstructions: ["hand-wash", "dry-in-shade"],
      features: [
        "matching-set",
        "breathable-fabric",
        "elastic-waist",
        "flowy-silhouette",
      ],
      occasion: ["casual", "day-out", "vacation"],
      cod: "COD Available",
      return: "15 Days Exchange/Return Available",
    },
    {
      id: 11,
      gender: "men",
      title: "Grey Regular Fit Self Pattern Kurta Set With Jacket",
      price: 1299,
      discountPercentage: 25,
      brand: "KISAH",
      images: [
        {
          url: "https://img.tatacliq.com/images/i13/437Wx649H/MP000000019495598_437Wx649H_202309292008551.jpeg",
          altText: "Grey kurta set front view with jacket",
        },
        {
          url: "https://img.tatacliq.com/images/i13/437Wx649H/MP000000019495598_437Wx649H_202309292008592.jpeg",
          altText: "Grey kurta set side view showing pattern details",
        },
        {
          url: "https://img.tatacliq.com/images/i13/437Wx649H/MP000000019495598_437Wx649H_202309292008563.jpeg",
          altText: "Close-up of kurta's self pattern texture",
        },
        {
          url: "https://img.tatacliq.com/images/i13/437Wx649H/MP000000019495598_437Wx649H_202309292008544.jpeg",
          altText: "Kurta set back view showing jacket design",
        },
        {
          url: "https://img.tatacliq.com/images/i13/437Wx649H/MP000000019495598_437Wx649H_202309292008525.jpeg",
          altText: "Kurta set flat lay display",
        },
        {
          url: "https://img.tatacliq.com/images/i13/437Wx649H/MP000000019495598_437Wx649H_202309292008576.jpeg",
          altText: "Model wearing complete kurta set with jacket",
        },
      ],
      offer: [],
      tags: [
        "ethnic wear",
        "kurta set",
        "jacket",
        "regular fit",
        "self pattern",
        "grey",
      ],
      category: "ethnic wear",
      subcategory: "kurta sets",
      cod: "COD Available",
      return: "15 Days Exchange/Return Available",
    },
    {
      id: 12,
      title: "Pink Cotton Regular Fit Shirt",
      brand: "U.S. Polo Assn.",
      price: 1799,
      originalPrice: 1799,
      discountPercentage: 0,
      description:
        "Stylish pink cotton regular fit shirt from U.S. Polo Assn. Designed for modern men seeking comfort and a polished look. Ideal for smart-casual or office wear.",
      gender: "men",
      category: "top-wear",
      subcategory: "shirts",
      type: "casual-shirt",
      fit: "regular-fit",
      style: "button-up",
      neck: "collared",
      sleeve: "long-sleeve",
      materials: ["cotton"],
      materialComposition: "100% cotton",
      colors: ["pink"],
      sizes: ["S", "M", "L", "XL", "XXL"],
      offers: ["b1g1", "trending"],
      tags: ["smart-casual", "office-wear", "solid-color", "cotton", "pink"],
      images: [
        {
          url: "https://img.tatacliq.com/images/i10/437Wx649H/MP000000017017250_437Wx649H_202303290450001.jpeg",
          altText: "Front view of pink shirt",
        },
        {
          url: "https://img.tatacliq.com/images/i10/437Wx649H/MP000000017017250_437Wx649H_202303290449545.jpeg",
          altText: "Side view of pink shirt",
        },
        {
          url: "https://img.tatacliq.com/images/i10/437Wx649H/MP000000017017250_437Wx649H_202303290450124.jpeg",
          altText: "Close-up of buttons",
        },
        {
          url: "https://img.tatacliq.com/images/i10/437Wx649H/MP000000017017250_437Wx649H_202303290450183.jpeg",
          altText: "Sleeve and cuff details",
        },
        {
          url: "https://img.tatacliq.com/images/i10/437Wx649H/MP000000017017250_437Wx649H_202303290450072.jpeg",
          altText: "Shirt back view",
        },
        {
          url: "https://img.tatacliq.com/images/i10/437Wx649H/MP000000017017250_437Wx649H_202303290449476.jpeg",
          altText: "Fabric texture close-up",
        },
        {
          url: "https://img.tatacliq.com/images/i10/437Wx649H/MP000000017017250_437Wx649H_202303290450237.jpeg",
          altText: "Complete outfit view",
        },
      ],
      rating: {
        average: 4.5,
        count: 210,
      },
      inventory: 64,
      careInstructions: ["machine-wash", "do-not-bleach", "warm-iron"],
      features: ["breathable-fabric", "soft-touch", "durable-stitching"],
      occasion: ["casual", "office", "smart-casual"],
      weight: {
        value: 220,
        unit: "grams",
      },
      fabricWeight: "170 GSM",
      pattern: "solid",
      createdAt: "2025-07-30T00:00:00Z",
      updatedAt: "2025-07-30T00:00:00Z",
      cod: "COD Available",
      return: "15 Days Exchange/Return Available",
    },
    {
      id: 13,
      title: "Oversized Ribbed Corduroy Casual Shirt",
      brand: "HERE&NOW",
      price: 1499,
      originalPrice: 1999,
      discountPercentage: 25,
      description:
        "Stylish oversized ribbed corduroy casual shirt from HERE&NOW. Perfect for a relaxed yet fashionable look with its unique texture and comfortable fit.",
      gender: "men",
      category: "clothing",
      subcategory: "casual-shirts",
      type: "shirt",
      fit: "oversized",
      materials: ["corduroy"],
      color:"grey",
      colors: ["grey"],
      colorVariants: [14, 15],
      sizes: ["S", "M", "L", "XL", "XXL"],
      offers: ["trending"],
      tags: ["shirt", "casual", "oversized", "corduroy", "ribbed"],
      images: [
        {
          url: "https://assets.myntassets.com/f_webp,fl_progressive/h_960,q_80,w_720/v1/assets/images/25128902/2023/9/23/1d6c822a-a9c7-4898-9042-59ba632d5d001695445558581HERENOWMenGreyOpaqueCasualShirt1.jpg",
          altText: "Front view of corduroy shirt",
        },
        {
          url: "https://assets.myntassets.com/f_webp,fl_progressive/h_960,q_80,w_720/v1/assets/images/25128902/2023/9/23/c3d649f5-6758-429f-afe1-a6d010b7af081695445558526HERENOWMenGreyOpaqueCasualShirt2.jpg",
          altText: "Side view showing ribbed texture",
        },
        {
          url: "https://assets.myntassets.com/f_webp,fl_progressive/h_960,q_80,w_720/v1/assets/images/25128902/2023/9/23/4e1ccae1-0ce8-4c0c-bb18-17faf9705aee1695445558560HERENOWMenGreyOpaqueCasualShirt3.jpg",
          altText: "Detail view of corduroy fabric",
        },
        {
          url: "https://assets.myntassets.com/f_webp,fl_progressive/h_960,q_80,w_720/v1/assets/images/25128902/2023/9/23/afa85ee6-0509-4031-9fcd-1c338f7e31171695445558600HERENOWMenGreyOpaqueCasualShirt4.jpg",
          altText: "Back view of shirt",
        },
        {
          url: "https://assets.myntassets.com/f_webp,fl_progressive/h_960,q_80,w_720/v1/assets/images/25128902/2023/9/23/0d26da75-cedf-4688-b5ea-e019441699f31695445558542HERENOWMenGreyOpaqueCasualShirt5.jpg",
          altText: "Close-up of button details",
        },
        {
          url: "https://assets.myntassets.com/f_webp,fl_progressive/h_960,q_80,w_720/v1/assets/images/25128902/2023/9/23/56461f0b-90a4-4fad-8a5e-7a287f0d49221695445558617HERENOWMenGreyOpaqueCasualShirt6.jpg",
          altText: "Model wearing shirt",
        },
        {
          url: "https://assets.myntassets.com/f_webp,fl_progressive/h_960,q_80,w_720/v1/assets/images/25128902/2023/9/23/f8ded9cc-d073-4558-8009-6431eb14be991695445558633HERENOWMenGreyOpaqueCasualShirt7.jpg",
          altText: "Styled outfit view",
        },
      ],
      rating: {
        average: 4.2,
        count: 78,
      },
      inventory: 36,
      careInstructions: ["machine-wash", "iron-on-low"],
      features: [
        "ribbed-corduroy",
        "oversized-fit",
        "button-front",
        "casual-style",
      ],
      weight: {
        value: 350,
        unit: "grams",
      },
      fabricWeight: "medium-weight",
      pattern: "solid",
      cod: "COD Available",
      return: "15 Days Exchange/Return Available",
      createdAt: "2023-09-23T00:00:00Z",
      updatedAt: "2023-10-01T00:00:00Z",
    },
    {
      id: 14,
      title: "Oversized Corduroy Casual Shirt",
      brand: "HERE&NOW",
      price: 1599,
      originalPrice: 1999,
      discountPercentage: 20,
      description:
        "Trendy oversized corduroy casual shirt in classic black from HERE&NOW. Features a relaxed fit, premium corduroy fabric, and versatile styling options for a contemporary look.",
      gender: "men",
      category: "clothing",
      subcategory: "casual-shirts",
      type: "shirt",
      fit: "oversized",
      materials: ["corduroy"],
      color:"black",
      colors: ["black"],
      colorVariants: [13, 15], // Linking to grey and other variant shirts
      sizes: ["S", "M", "L", "XL", "XXL"],
      offers: ["trending", "new-arrival"],
      tags: ["shirt", "casual", "oversized", "corduroy", "black"],
      images: [
        {
          url: "https://assets.myntassets.com/f_webp,fl_progressive/h_960,q_80,w_720/v1/assets/images/25128900/2023/9/23/aea2a163-725a-47a8-abbc-df0e7a1f1cf41695444899338HERENOWMenBlackOpaqueCasualShirt6.jpg",
          altText: "Front view of black corduroy shirt",
        },
        {
          url: "https://assets.myntassets.com/f_webp,fl_progressive/h_960,q_80,w_720/v1/assets/images/25128900/2023/9/23/ff0ec219-f52a-4afe-a28a-cacb4238a03c1695444899241HERENOWMenBlackOpaqueCasualShirt2.jpg",
          altText: "Side view showing corduroy texture",
        },
        {
          url: "https://assets.myntassets.com/f_webp,fl_progressive/h_960,q_80,w_720/v1/assets/images/25128900/2023/9/23/7887aea0-d71c-4ac8-b741-dc32692334e51695444899280HERENOWMenBlackOpaqueCasualShirt3.jpg",
          altText: "Detail view of fabric texture",
        },
        {
          url: "https://assets.myntassets.com/f_webp,fl_progressive/h_960,q_80,w_720/v1/assets/images/25128900/2023/9/23/e363837d-0a7d-4dbb-9e43-0d3104b91aed1695444899260HERENOWMenBlackOpaqueCasualShirt4.jpg",
          altText: "Back view of shirt",
        },
        {
          url: "https://assets.myntassets.com/f_webp,fl_progressive/h_960,q_80,w_720/v1/assets/images/25128900/2023/9/23/cd8c7fed-e85f-45ab-b227-292d0a9a08c81695444899223HERENOWMenBlackOpaqueCasualShirt5.jpg",
          altText: "Styled outfit view",
        },
      ],
      rating: {
        average: 4.3,
        count: 92,
      },
      inventory: 42,
      careInstructions: ["machine-wash", "iron-on-low", "do-not-bleach"],
      features: [
        "premium-corduroy",
        "oversized-silhouette",
        "button-down",
        "versatile-styling",
      ],
      weight: {
        value: 380,
        unit: "grams",
      },
      fabricWeight: "heavyweight",
      pattern: "solid",
      cod: "COD Available",
      return: "15 Days Exchange/Return Available",
      createdAt: "2023-09-23T00:00:00Z",
      updatedAt: "2023-10-05T00:00:00Z",
    },
    {
      id: 15,
      title: "Oversized Corduroy Spread Collar Short Collar Casual Shirt",
      brand: "HERE&NOW",
      price: 1699,
      originalPrice: 1999,
      discountPercentage: 15,
      description:
        "Fashionable maroon oversized corduroy shirt featuring a distinctive spread collar design. Made with premium quality corduroy fabric for a luxurious feel and comfortable oversized fit.",
      gender: "men",
      category: "clothing",
      subcategory: "casual-shirts",
      type: "shirt",
      fit: "oversized",
      collar: "spread-collar",
      materials: ["corduroy"],
      color:"maroon",
      colors: ["maroon"],
      colorVariants: [13, 14], // Linking to grey (ID 13) and black (ID 14) variants
      sizes: ["S", "M", "L", "XL", "XXL"],
      offers: ["trending", "limited-stock"],
      tags: [
        "shirt",
        "casual",
        "oversized",
        "corduroy",
        "maroon",
        "spread-collar",
      ],
      images: [
        {
          url: "https://assets.myntassets.com/f_webp,fl_progressive/h_960,q_80,w_720/v1/assets/images/25128904/2023/9/23/6788900f-a1ec-453e-b0e7-0c4612527dbb1695445562076HERENOWMenMaroonOpaqueCasualShirt1.jpg",
          altText: "Front view of maroon corduroy shirt with spread collar",
        },
        {
          url: "https://assets.myntassets.com/f_webp,fl_progressive/h_960,q_80,w_720/v1/assets/images/25128904/2023/9/23/5bb9dcf2-3c8d-4605-b0dc-8d861bfae2d21695445562131HERENOWMenMaroonOpaqueCasualShirt2.jpg",
          altText: "Detail view showing spread collar design",
        },
        {
          url: "https://assets.myntassets.com/f_webp,fl_progressive/h_960,q_80,w_720/v1/assets/images/25128904/2023/9/23/cb8dfb09-ddeb-40ec-bc99-45f6e08d85921695445562058HERENOWMenMaroonOpaqueCasualShirt6.jpg",
          altText: "Side view showing corduroy texture",
        },
        {
          url: "https://assets.myntassets.com/f_webp,fl_progressive/h_960,q_80,w_720/v1/assets/images/25128904/2023/9/23/3fcd6ba4-7b11-4137-a461-87daae94d3fa1695445562113HERENOWMenMaroonOpaqueCasualShirt7.jpg",
          altText: "Styled outfit view of maroon shirt",
        },
      ],
      rating: {
        average: 4.4,
        count: 68,
      },
      inventory: 28,
      careInstructions: ["dry-clean", "steam-iron"],
      features: [
        "premium-corduroy",
        "oversized-fit",
        "spread-collar",
        "button-front",
        "fashion-collar",
      ],
      weight: {
        value: 400,
        unit: "grams",
      },
      fabricWeight: "heavyweight",
      pattern: "solid",
      cod: "COD Available",
      return: "15 Days Exchange/Return Available",
      createdAt: "2023-09-23T00:00:00Z",
      updatedAt: "2023-10-10T00:00:00Z",
    },
  ];

  // Extract id from the path, e.g., /trendings/1
  const pathParts = event.path ? event.path.split("/") : [];
  const idStr = pathParts.length > 0 ? pathParts[pathParts.length - 1] : null;
  const id = idStr && !isNaN(Number(idStr)) ? Number(idStr) : null;

  let responseBody;
  if (id) {
    const product = products.find((p) => p.id === id);
    if (product) {
      responseBody = product;
    } else {
      return {
        statusCode: 404,
        headers: {
          "Content-Type": "application/json",
          "Access-Control-Allow-Origin": "*",
        },
        body: JSON.stringify({ error: "Product not found" }),
      };
    }
  } else {
    responseBody = products;
  }

  return {
    statusCode: 200,
    headers: {
      "Content-Type": "application/json",
      "Access-Control-Allow-Origin": "*",
    },
    body: JSON.stringify(responseBody),
  };
};
